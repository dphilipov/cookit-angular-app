<div class="main-wrapper">
    <h3>Update a recipe</h3>

    <div class="update-container">
        <form #form="ngForm" class="update-form-container" (ngSubmit)="submitRecipeHandler(form)">

            <ngx-dropzone (change)="onSelect($event)" accept="image/*" [multiple]="false">
                <ngx-dropzone-label>Drag & drop a recipe image</ngx-dropzone-label>
                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f">
                </ngx-dropzone-image-preview>
            </ngx-dropzone>

            <mat-form-field appearance="outline">
                <mat-label for="recipeName">Recipe Name</mat-label>
                <input matInput ngModel name="recipeName" [value]="recipe.name">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label for="recipeDescription">{{recipe.description}}</mat-label>
                <textarea matInput ngModel name="recipeDescription"></textarea>
            </mat-form-field>

            <app-ingredients-input *ngFor="let recipeIngredient of recipeIngredientsLength; index as i" [dataIndex]="i" [recipeIngredient]="recipeIngredient" (setRecipeIngredients)="setRecipeIngredients($event)"></app-ingredients-input>

            <button (click)="addIngredientsFieldHandler($event)" class="addIngredient">add ingredient</button>

            <mat-form-field appearance="outline">
                <mat-label for="recipeDirections">{{recipe.directions}}</mat-label>
                <textarea matInput ngModel name="recipeDirections"></textarea>
            </mat-form-field>

            <app-button btnClass="nav-btn" btnType="stroked" btnText="UPDATE">
                SUBMIT
            </app-button>

        </form>
    </div>
</div>